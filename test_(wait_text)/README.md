# Явные ожидания (Explicit Waits) 

## Инженер по тестированию переходит в директорию, предназначенную для хранения файлов с тестами
```
cd selenium_tests
```
## Из директории selenium_tests активирует виртуальное окружение
```sh
source selenium_env/bin/activate
```
## В активированном окружении запускает тест 
```sh
python3 test_(waits)/test_A.py
```
## Для вывода результата в отдельный файл зпускает командой 
```sh
python3 test_(waits)/test_A.py >> test_(waits)/output.txt
```
Где test_A.py -  скрипт с тестом, а output.txt - файл, в который будет записан вывод теста.


## Проверка текста и атрибутов элементов
WebDriverWait(browser, poll_frequency=0.5, timeout=10).until(EC.text_to_be_present_in_element((locator)))
Если метод работает с одним элементом → он возвращает WebElement
Если метод работает с несколькими элементами → он возвращает list[WebElement]


```.text_to_be_present_in_element()```
Это ожидаемое условие, которое проверяет, содержит ли текст элемента, определенного локатором, заданное подстроковое значение.
При извлечении данных с веб-страниц часто требуется удостовериться, что страница полностью загрузилась и содержит ожидаемую информацию. 
Это условие позволяет вам подтвердить, что определенный элемент на странице содержит нужный текст, что может служить индикатором успешной загрузки или наличия определенных данных.
Это условие осуществляет поиск элемента на странице с использованием предоставленного локатора. После этого происходит проверка, содержит ли текст этого элемента заданное значение.
#Определяем локатор и ожидаемый текст
locator = (By.ID, 'message')
expected_text = "Загрузка завершена"
#Используем явное ожидание, чтобы убедиться, что элемент содержит ожидаемый текст
WebDriverWait(browser, 10).until(EC.text_to_be_present_in_element(locator, expected_text))


```.text_to_be_present_in_element_value()```
 Это ожидаемое условие в Selenium, которое проверяет наличие определенного текста в значении атрибута value элемента, указанного локатором.
При парсинге или автоматизации действий на веб-сайтах часто встречаются элементы, такие как текстовые поля (например, поле для ввода пароля или поискового запроса). Это условие позволяет проверить, содержит ли такой элемент определенное значение. 
Это может быть полезно для проверки того, введено ли какое-то значение в поле ввода или для ожидания, пока значение элемента не обновится после каких-либо действий на странице.
Условие осуществляет поиск элемента на основе предоставленного локатора. После нахождения элемента происходит проверка, содержит ли его атрибут value указанный текст.
text_to_be_present_in_element_value() — сработает даже при частичном совпадении. Например ждем в поле ввода "авто",и если в поле ввода появиться надпись "Гайд по автоматизации" то условие выдаст True
Если в браузере открыть вкладку Elements и посмотреть на value у поля ввода (<input>), то можно не увидеть текст, который там отображается. Это связано с тем, что:
Текст может быть динамически установлен через JavaScript и не обновлять сам атрибут value, а только свойство value в DOM.
Некоторые фреймворки и библиотеки (React, Vue, Angular) работают именно со свойством value, а не с атрибутом.
HTML-атрибут value показывает только значение, которое было установлено изначально (статически в коде), но не текущее, если оно изменилось через пользовательский ввод или скрипты.
#Определяем локатор и ожидаемый текст
locator = (By.ID, 'search_field')
expected_text = "Query123"
#Используем явное ожидание, чтобы проверить наличие текста в атрибуте value элемента
WebDriverWait(browser, 10).until(EC.text_to_be_present_in_element_value(locator, expected_text))


```text_to_be_present_in_element_attribute()```
Ожидаемое условие, которое проверяет, содержится ли указанный текст в определенном атрибуте элемента, определенного локатором.
При извлечении данных с веб-страниц часто требуется не только извлекать текстовое содержимое элементов, но и атрибуты этих элементов, такие как href у ссылок, src у изображений и т. д. 
Это условие позволяет удостовериться, что атрибут элемента содержит определенное значение, что может быть ключевым критерием при выборе элементов для дальнейшего парсинга.
Это условие выполняет поиск элемента на основе предоставленного локатора.
После нахождения элемента осуществляется проверка содержания определенного атрибута этого элемента на наличие заданного текста.
#Определяем локатор, атрибут и ожидаемый текст
locator = (By.ID, 'image_id')
attribute_name = "alt"
expected_text = "Descriptive Image Text"


```.element_attribute_to_include```
Ожидаемое условие, которое проверяет наличие указанного атрибута у элемента, определенного локатором.
Возвращаемое значение:
    True: Если атрибут присутствует (даже если его значение пустое).
    False: Если атрибут отсутствует.

В процессе парсинга данных с веб-страницы иногда важно удостовериться, что элемент имеет определенный атрибут, независимо от его значения. 
Например, проверить наличие атрибута data-loaded у изображения, чтобы убедиться, что оно загружено, или наличие атрибута disabled у кнопки, чтобы определить её состояние.
Это условие выполняет поиск элемента на основе предоставленного локатора. 
После нахождения элемента осуществляется проверка наличия указанного атрибута с помощью метода get_attribute(). 
Если метод возвращает значение, отличное от None, условие считается выполненным.

# Определяем локатор и атрибут
locator = (By.ID, 'image_id')
attribute = "src"

# Используем явное ожидание, чтобы удостовериться, что у элемента есть атрибут "src"
WebDriverWait(browser, 10).until(EC.element_attribute_to_include(locator, attribute))



# Используем явное ожидание, чтобы удостовериться, что атрибут содержит нужный текст
WebDriverWait(browser, 10).until(EC.text_to_be_present_in_element_attribute(locator, attribute_name, expected_text))


# Определяем локатор, атрибут и ожидаемый текст
locator = (By.ID, 'image_id')
attribute_name = "alt"
expected_text = "Descriptive Image Text"

# Используем явное ожидание, чтобы удостовериться, что атрибут содержит нужный текст
WebDriverWait(browser, 10).until(EC.text_to_be_present_in_element_attribute(locator, attribute_name, expected_text))

# Определяем локатор и ожидаемый текст
locator = (By.ID, 'search_field')
expected_text = "Query123"

# Используем явное ожидание, чтобы проверить наличие текста в атрибуте value элемента
WebDriverWait(browser, 10).until(EC.text_to_be_present_in_element_value(locator, expected_text))
При извлечении данных с веб-страниц часто требуется не только извлекать текстовое содержимое элементов, но и атрибуты этих элементов, такие как href у ссылок, src у изображений и т. д. 
Это условие позволяет удостовериться, что атрибут элемента содержит определенное значение, что может быть ключевым критерием при выборе элементов для дальнейшего парсинга.


# Используем явное ожидание, чтобы убедиться, что элемент содержит ожидаемый текст
WebDriverWait(browser, 10).until(EC.text_to_be_present_in_element(locator, expected_text))
Если текст появился → продолжаем выполнение кода.
Если 10 секунд прошло, а текста нет → выбрасывает ошибку TimeoutException.
Явное ожидание текста возвращает тип элемента <class 'bool'>, то есть после получения значения True, которое означает, что фрагмент текста присутствует в элементе, необходимо дополнительно найти этот элемент, если вы хотите с ним взаимодействовать.




## Тестовые данные test_A
- [x] Незарегестированный пользователь переходит по ссылке
- [x] Ждет когда кнопка станет кликбельной
- [x] После успешного нажатия на кнопку ожидает полного совпадения заголовка, если заголовок совпадает выводит текст из элемента с id='result' в консоль\
#### В программе использует явные ожидания: 



## Тестовые данные test_B
- [x] Незарегестированный пользователь переходит по ссылке
- [x] Ждет когда кнопка станет кликбельной и нажимает на нее
- [x] После успешного нажатия на кнопку ожидает частичного совпадения заголовка, если заголово совпадает выводит текст из элемента с id='result' в консоль
#### В программе использует явные ожидания: 



## Тестовые данные test_C
- [x] Незарегестированный пользователь переходит по ссылке
- [x] Ждет когда кнопка станет кликбельной и нажимает на нее
- [x] После успешного нажатия на кнопку ожидает появления элемента с class="BMH21YY",  если элемент видим на странице выводит текст из появившегося элемента в консоль.
#### В программе использует явные ожидания: 

