# Явные ожидания URL (Explicit Waits URL) 

## Инженер по тестированию переходит в директорию, предназначенную для хранения файлов с тестами
```
cd selenium_tests
```
## Из директории selenium_tests активирует виртуальное окружение
```sh
source selenium_env/bin/activate
```
## В активированном окружении запускает тест 
```sh
python3 test_(check_URL)/test_A.py
```
## Для вывода результата в отдельный файл зпускает командой 
```sh
python3 test_(check_URL)/test_A.py >> test_(check_URL)/output.txt
```
Где test_A.py -  скрипт с тестом, а output.txt - файл, в который будет записан вывод теста.


## Проверка URL 
WebDriverWait(webdriwer, poll_frequency=0.5, timeout=10).until(EC.УСЛОВИЕ(('STR')))





```.url_matches()```
EC.url_matches(pattern: str) — Это ожидаемое условие, проверяет, соответствует ли текущий URL страницы заданному регулярному выражению.
pattern- регулярное выражение для проверки URL.
Это условие позволяет проводить более сложную проверку структуры URL, что важно при парсинге сайтов и автоматизации действий в браузере. 
В отличие от простого поиска подстроки, как в случае с url_contains, url_matches предоставляет возможность точного сопоставления URL c помощью регулярных выражений. 
Например, ожидание, пока URL соответствует определенному шаблону, можно реализовать следующим образом: 
```WebDriverWait(browser, 10).until(EC.url_matches(r"https://www%5C.example%5C.com/%5B0-9%5D%7B4%7D/"))```







## Тестовые данные test_A
- [x] Незарегестированный пользователь переходит по ссылке
- [x] Нажимает на кнопку, текст ссылки которого содержит подстроку 'Правильный путь'
- [x] После успешного нажатия на кнопку ожидает смены ссылки на https://parsinger.ru/selenium/9/9.4.3/final.html?key=secure, и после этого извлекайте пароль из элемента с id='pssword'.
#### В программе использует явные ожидания: 
```.url_to_be()```
EC.url_to_be(url: str)— это ожидаемое условие, которое проверяет, совпадает ли текущий URL веб-страницы с указанным значением.
url - ожидаемый URL страницы.
В случае парсинга веб-сайтов, особенно динамических и сложных, точность URL имеет решающее значение, так как даже одна ошибка в символе или параметре может привести к ошибочным данным. 
Эта функция сравнивает текущий URL с ожидаемым, и если они идентичны, условие считается выполненным. 
Например, можно использовать следующую строку кода, чтобы ожидать, пока URL не станет "https://www.example.com":
```WebDriverWait(browser, 10).until(EC.url_to_be("https://www.example.com"))```


## Тестовые данные test_B
- [x] Незарегестированный пользователь переходит по ссылке
- [x] Нажимает на кнопку 'Начать'
- [x] После успешного нажатия на кнопку, пепреходит на страницу, где ожидает изменения URL, если URL изменился, выводит текст из элемента с id='result' в консоль
#### В программе использует явные ожидания: 
```.url_changes()```
EC.url_changes(url: str)— Это ожидаемое условие, , которое проверяет, изменился ли текущий URL веб-страницы по сравнению с указанным значением. 
url - это исходный URL для анализа.
При извлечении данных из веб-сайтов возникает необходимость изменять URL после выполнения определённых действий, таких как нажатие кнопки или отправка формы. 
Подтверждение изменения URL позволяет убедиться в успешности выполнения действия и том, что пользователь теперь работает с новой страницей. 
Условие проверяет, совпадают ли текущий URL страницы и ранее предоставленное значение. Если они не совпадают, условие считается выполненным.
Пример ожидания изменения URL относительно "https://www.example.com":
```WebDriverWait(browser, 10).until(EC.url_changes("https://www.example.com"))```

## Тестовые данные test_C
- [x] Незарегестированный пользователь переходит по ссылке
- [x] Нажимает на кнопку 'Искать бананы'
- [x] После успешного нажатия на кнопку, пепреходит на страницу, где ожидает, что подстрока URL содержит 'qLChv49', если URL содержит эту подстроку, нажимает на кнопку 'Проверить улов'  и выводит текст из тега <p> в консоль
#### В программе использует явные ожидания: 
```.url_contains()```
EC.url_contains(url: str) — Это ожидаемое условие, служит для проверки, содержит ли текущий URL веб-страницы определённую подстроку.
url - подстрока, которую должен содержать URL.
Это условие  полезно при парсинге данных или автоматизации действий на сайтах, когда требуется переходить по различным ссылкам или отслеживать редиректы. 
Проверка содержания URL позволяет убедиться, что пользователь находится на нужной странице, особенно после действий, изменяющих URL, таких как вход в аккаунт или переход по категориям.
Метод анализирует текущий URL и возвращает True, если он содержит заданное значение. 
Например, при использовании EC.url_contains("dashboard") для URL https://www.example.com/dashboard/ метод подтвердит, что строка "dashboard" присутствует.
Для ожидания, пока URL не будет содержать определённую подстроку, можно использовать следующий код:
```WebDriverWait(browser, 10).until(EC.url_contains("dashboard"))```