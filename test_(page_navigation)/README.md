# Работа с вкладками 

## Инженер по тестированию переходит в директорию, предназначенную для хранения файлов с тестами
```
cd selenium_tests
```
## Из директории selenium_tests активирует виртуальное окружение
```sh
source selenium_env/bin/activate
```
## В активированном окружении запускает тест 
```sh
python3  test_(page_navigation)/test_A.py
```
## Для вывода результата в отдельный файл зпускает командой 
```sh
python3 test_(page_navigation)/test_A.py >> test_A2/output.txt
```
Где test_A.py -  скрипт с тестом, а output.txt - файл, в который будет записан вывод теста.

Вкладка браузера — это отдельное окно внутри одного окна браузера. Мы можем открывать сколько угодно вкладок, но работать можем только с активной.



## Тестовые данные test_A
```data:``` – стартовая вкладка, открываемая Selenium, имеет URL вида data:, или data:text/html.
 Это  пустая страница, но она создаётся динамически. 
 Из-за отсутствия полноценного HTML-контента, такой документ может не иметь тега <title>, поэтому browser.title возвращает пустую строку.
```about:blank``` – специальный URL, который загружает пустую страницу. 
Если вызвать browser.get("about:blank"), вы получите чистую страницу, с которой можно начать работу.

## Тестовые данные test_B
При работе с веб-приложениями часто требуется переходить по ссылкам, открывающимся в новой вкладке браузера. 
WebDriver может взаимодействовать только с одной вкладкой, и при открытии новой он продолжает работать со старой. 
Чтобы переключиться на новую вкладку, необходимо явно указать, на какую вкладку перейти, с помощью команды ``` webdriver.switch_to.window(window_name)```.
```webdriver.switch_to.window(window_name)```
```driver.get("Укажите любой URL")```

## Тестовые данные test_C
Метод ```webdriver.execute_script('window.open("Укажите любой URL", "_blank");')``` 
открывает новую вкладку, но фокус остается на текущей, и для работы с новой вкладкой необходимо явно переключиться. 
Даже после запуска кода фокус визуально будет на вкладке icloud.com, однако фактически она не активна. 
При использовании команды browser.get("https://google.com" новая страница откроется в первой вкладке, несмотря на видимый фокус на icloud.com. 
Такое поведение характерно для методов JavaScript, таких как browser.execute_script, которые не требуют переключения на новую вкладку.

## Тестовые данные test_D
- [x] Незарегестированный пользователь запускает  браузер с пустой вкладкой about:blank
- [x] Использует метод .new_window("tab"), открывает сайт 1 в новой вкладке и получает из title числовое значение, затем удаляет из него все числа 4, 3, 9,  сохраняет обработанное число в num1.
- [x] Открывает сайт 2 тем же методом в новой вкладке и получает из title числовое значение, затем удаляет из него все числа 7, 8, 0,  сохраняет обработанное число в num2.
- [x] Выводит сумму чимсел в качестве ответа в консоль.
#### В программе использует:
```webdriver.get("about:blank")```Метод используется для открытия пустой страницы в браузере. Эта страница не содержит ни одного элемента и служит "чистой" средой, с которой можно работать.
```webdriver.switch_to.new_window('tab')``` Метод открывает новую вкладку в текущем окне браузера, что позволяет одновременно работать с несколькими страницами в одном сеансе. Это удобно для многозадачных операций и сбора данных из разных источников.
```num_1 = ''.join(i for i in webdriver.title if i not in ['4', '3', '9'])``` Код извлекает из заголовка текущей страницы (получаемого через webdriver.title) все символы, кроме '4', '3' и '9', создавая таким образом "чистый" заголовок. Это может быть полезно для фильтрации данных.


## Тестовые данные test_E
Код открывает первую вкладку с помощью метода ```.get("URL")```, 
затем добавляет еще три вкладки с помощью ```.execute_script()``` и выводит дескрипторы всех открытых вкладок.

Дескрипторы представляют собой сущности, позволяющие управлять вкладками.
Каждая вкладка имеет свой уникальный идентификатор (дескриптор)
```webdriver.current_window_handle``` — возвращает дескриптор текущей вкладки;
```webdriver.window_handles``` — возвращает список всех дескрипторов открытых вкладок; 
```webdriver.switch_to.window(window_handles[0])``` — переключает фокус между вкладками.
```webdriver.switch_to.window(descriptor)``` — либо передать сам дескриптор на прямую
```webdriver.new_window("window")``` — открыть новое отдельное окно браузера(!не вкладку).

## Тестовые данные test_F
Код открывает первую вкладку с помощью метода browser.get("URL"), 
затем добавляет три новых вкладки через ```webdriver.new_window("tab")```, 
после чего печатает дескрипторы всех открытых вкладок.


## Тестовые данные test_G
Можно работать со всеми вкладками, но только по очереди и лишь с активной. 
Код не вызывает ошибок на странице Stepik, поскольку при отсутствии элементов метод find_elements возвращает пустой список.

## Тестовые данные test_H
