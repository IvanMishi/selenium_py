# Прокрутка в область видимости элемента с помощью метода .execute_script

## Инженер по тестированию переходит в директорию, предназначенную для хранения файлов с тестами
```
cd selenium_tests
```
## Из директории selenium_tests активирует виртуальное окружение
```sh
source selenium_env/bin/activate
```
## В активированном окружении запускает тест 
```sh
python3 test_10(execute_script)/test_A.py
```
## Для вывода результата в отдельный файл зпускает командой 
```sh
python3 test_10(execute_script)/test_A.py >> test_10(execute_script)/output.txt
```
Где test_A.py -  скрипт с тестом, а output.txt - файл, в который будет записан вывод теста.


## Тестовые данные test_A
- [x] Незарегестированный пользователь переходит по ссылке
- [x] Cчитывает данные для переменной x из элемента на веб странице.
- [x] Считает математическую функцию от x и вводит ответ в текстовое поле.
- [x] Прокручивает страницу вниз для отображения кнопки
- [x] Отмечает чекбокс "I'm the robot".
- [x] Переключает радиокнопку "Robots rule!".
- [x] Нажимает на кнопку "Submit".
#### В программе использует:\
Для выполнения JavaScript-кода на странице и обеспечения видимости элементов, скрытых футером, используется следующий метод: \
```webdriver.execute_script("return arguments[0].scrollIntoView(true);", button_submit)``` 
Этот скрипт прокручивает страницу, чтобы элемент был виден. \
WebDriver также проверяет, что ширина и высота элемента больше нуля, гарантируя возможность клика. \
Однако, даже если элемент видим, он может быть перекрыт другим элементом, что приведет к ошибке при клике.
Таким образом, данный подход обеспечивает видимость элемента, но не исключает возможности его перекрытия.\
Если элемент перекрыт другим элементом, возникает ошибка: \
```selenium.common.exceptions.WebDriverException: Message: unknown error: Element <button type="submit" class="btn btn-default" style="margin-bottom: 1000px;">...</button> is not clickable at point (87, 420). Other element would receive the click: <p>...</p>```\
Также можно прокрутить всю страницу на определенное количество пикселей. \
Например, данная команда прокручивает страницу на 100 пикселей вниз: \
```browser.execute_script("window.scrollBy(0, 100);")```


## Тестовые данные test_B
- [x] Незарегестированный пользователь переходит по ссылке
- [x] Прокручивает к каждому чекбоксу и отмечает его.
- [x] После отметки чекбокса добавляет в список число, если появляется рядом с ним.
- [x] Суммирует полученные значения и выводит результат в консоль.
#### В программе использует:\
Программа использует цикл for для итерации по 100 чекбоксам. \
Cтраница прокручивается вниз к чекбоксу с помощью следующего кода:
```
webdriver.execute_script("return arguments[0].scrollIntoView(true);", checkbox) 
checkbox.click() # Для каждого чекбокса к которому выполнен скролл выполняется клик
```


## Тестовые данные test_C
- [x] Незарегестированный пользователь переходит по ссылке
- [x] Создает список для необработаных элементов типа чекбокс
- [x] Прокручивает к каждому чекбоксу и отмечает его, обавляет в список, пока не выберет 40 чекбоксов.
- [x] После отметки 40 чекбоксов программа выолнена.
#### В программе использует:\
Если известно количество элементов которые нужно обработать, то можно использовать следующий код:
Создает пустой список для хранения входных данных
```list_input = []```
Запускает бесконечный цикл
```while True:```
Если длина списка равна 40, выходим из цикла, программа выполнена
```if len(list_input) == 40:```
```            break```


## Тестовые данные test_D
- [x] Незарегестированный пользователь переходит по ссылке
- [x] Отмечает все нечетные чекбоксы
- [x] Нажимает появившуюся кнопку для вызова алерта
- [x] Выводит сообщение из алерата в консоль 
#### В программе использует:\
Если необходимо обработать первые 100 элементов, то можно использовать следующий код, для того чтобы сначала прокрутить до последнего элемента и подгрузить в dom:\
```while len(webdriver.find_elements(By.CSS_SELECTOR, "input")) < 1000:```
```last = webdriver.find_element(By.CSS_SELECTOR, ".child_container:last-child")```
```webdriver.execute_script("return arguments[0].scrollIntoView(true)", last)```
 Затем после того как элменты добавлены в dom, можно взаимодействовать с ними.\


## Тестовые данные test_E
- [x] Незарегестированный пользователь переходит по ссылке
- [x] Нажимает на кнопку на странице  
- [x] При нажатии появляется числовое значение в верхней области страницы
- [x] Считает сумму всех найденых значений после нажатия на каждую кнопку на странице 
#### В программе использует:\
Прокручвает страницу в цикле for к кажому элементу\
```for element in buttons:```
```        webdriver.execute_script("return arguments[0].scrollIntoView(true);", element)```

## Тестовые данные test_F
- [x] Незарегестированный пользователь переходит по ссылке
- [x] Нажимает на кнопки разбросанные на странице
- [x] При достижении лимита нажатых кнопок появляется алерт из которого выводит текст в качестве ответа в консоль
- [x] Выводит количество обработанных кнопок в консоль