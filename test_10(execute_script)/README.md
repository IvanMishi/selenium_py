# Прокрутка в область видимости элемента с помощью метода .execute_script

## Инженер по тестированию переходит в директорию, предназначенную для хранения файлов с тестами
```
cd selenium_tests
```
## Из директории selenium_tests активирует виртуальное окружение
```sh
source selenium_env/bin/activate
```
## В активированном окружении запускает тест 
```sh
python3 test_10(execute_script)/test_A.py
```
## Для вывода результата в отдельный файл зпускает командой 
```sh
python3 test_10(execute_script)/test_A.py >> test_10(execute_script)/output.txt
```
Где test_A.py -  скрипт с тестом, а output.txt - файл, в который будет записан вывод теста.

## Тестовые данные
- [x] Незарегестированный пользователь переходит по ссылке https://SunInJuly.github.io/execute_script.html
- [x] Cчитывает данные для переменной x из элемента на веб странице.
- [x] Считает математическую функцию от x и вводит ответ в текстовое поле.
- [x] Прокручивает страницу вниз для отображения кнопки
- [x] Отмечает чекбокс "I'm the robot".
- [x] Переключает радиокнопку "Robots rule!".
- [x] Нажимает на кнопку "Submit".
- [x] Закрывает браузер.

##  В задаче test_A

Программа использует метод .execute_script() для выполнения JavaScript кода на странице и обеспечения видимости элементов, скрытых футером. \
Если элемент перекрыт другим элементом, возникает ошибка: \
```selenium.common.exceptions.WebDriverException: Message: unknown error: Element <button type="submit" class="btn btn-default" style="margin-bottom: 1000px;">...</button> is not clickable at point (87, 420). Other element would receive the click: <p>...</p>```


WebDriver проверяет что ширина и высота элемента больше 0, чтобы гарантировать возможность клика. \
Затем, если элемент за пределами окна браузера, страница прокручивается, чтобы элемент был виден. \
Это не исключает перекрытия элемента другим элементом, даже если тот видим. \
Selenium кликает по центру элемента, что может привести к ошибке, если часть элемента не видна из-за перекрытия. \
Для обеспечения видимости элемента можно использовать скрипт: 

```return arguments[0].scrollIntoView(true);``` 

Этот скрипт заставляет браузер прокрутить страницу, чтобы элемент был видим.\
Для клика на перекрытую кнопку необходимо выполнить такие команды: 

```
button = webdriver.find_element(By.TAG_NAME, "button")
webdriver.execute_script("return arguments[0].scrollIntoView(true);", button)
button.click()
```

Код передает js-скрипт и найденный элемент button в метод execute_script для прокрутки страницы к элементу. 
После выполнения этого кода элемент должен быть видимой частью страницы.
Также можно проскроллить всю страницу на определенное количество пикселей. 
Например, данная команда прокручивает страницу на 100 пикселей вниз:
```browser.execute_script("window.scrollBy(0, 100);")```

## В задаче test_B

Программа использует цикл for для итерации по 100 чекбоксам. \
Для каждого чекбокса выполняется клик, после чего страница прокручивается вниз с помощью следующего кода:
```for tag_input in input_elements:
        webdriver.execute_script("return arguments[0].scrollIntoView(true);", tag_input)
        tag_input.click()```
Когда пользователь кликает по чекбоксу на сайте, в элементе span появляется либо не появляется число. \
Программа собирает все появившиеся числа в список и выводит сумму этих чисел в консоль. \
Этот подход подходит для обычных сайтов без динамической подгрузки данных.
