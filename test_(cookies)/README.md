# Работа с cookies

## Инженер по тестированию переходит в директорию, предназначенную для хранения файлов с тестами
```
cd selenium_tests
```
## Из директории selenium_tests активирует виртуальное окружение
```sh
source selenium_env/bin/activate
```
## В активированном окружении запускает тест 
```sh
python3 test_(cookies)/test_A.py
```
## Для вывода результата в отдельный файл зпускает командой 
```sh
python3 test_(cookies)/test_A.py >> test_(cookies)/output.txt
```
Где test_A.py -  скрипт с тестом, а output.txt - файл, в который будет записан вывод теста.

### Куки
Сессионные куки: Хранят информацию на короткий срок, включая записи форм и время пребывания на сайте. Удаляются при уходе с сайта.
Постоянные куки: Сохраняются в браузере длительное время и могут включать логин и данные учетной записи, такие как местоположение в Google.

#### Добавить куки в текущую сессию браузера:
```webdriver.add_cookie(cookie)```  # После добавления куки следует обновить страницу
```webdriver.refresh()```
#### Получить  имена куки или их значения.\
Метод cookies = webdriver.get_cookies() получает список словарей, содержащих информацию, включая время истечения срока действия cookie ('expiry': 1685518907).\
```pprint(cookies)```
```
[{'domain': '.ya.ru',
  'expiry': 1685518907,
  'httpOnly': False,
  'name': '_ym_d',
  'path': '/',
  'sameSite': 'None',
  'secure': True,
  'value': '1653982908'}]
```

#### Метод .get_cookie(name_cookie) находит и возвращает cookie по его имени..\
```for cookie in cookies:```\
```        print(cookie['name'])``` # или cookie['value'] чтобы получить их значение

Пример кода для извлечения конкретного значения из cookie.\
```print(webdriver.get_cookie('_ym_uid')['expiry'])```

#### Удаление всех куки из сессии:\
```webdriver.delete_all_cookies()``` # После удаления куки следует обновить страницу
```webdriver.refresh()```

## Тестовые данные test_A
- [x] Незарегестированный пользователь переходит по ссылке.
- [x] Получает все куки и сохраняет в переменную.
- [x] Извлекает значения куки с именами, содержащими 'secret_cookie_'.
- [x] Преобразует полученные значения в числа, суммирует их и выводит общую сумму в консоль.

#### В программе использует: 
```webdriver.get_cookies()```
```if 'secret_cookie_' in cookie['name']:```

## Тестовые данные test_B
- [x] Незарегестированный пользователь переходит по ссылке.
- [x] Добавляет поочередно куки из файла в виде словаря.
- [x] После добавления куки и обновления страницы сохраняются появившиеся данные о возрасте и количестве навыков пользователя.
- [x] Находит пользователя с наименьшим возрастом и наибольшим количеством навыков.
#### В программе использует: 
```webdriver.add_cookie(cookie)``` # Добавляет куки в текущую сессию браузера
```for skill in webdriver.get_cookies():``` # Извлекает все куки, доступные на странице
```            val_cookie = skill['value']```  # Берет последнее значение куки

```candidat_find = max(result, key=lambda x: (-x[0], x[1]))```
